<div class="m-4">
  <span mat-dialog-title class="text-xl font-bold">Nuova ordinazione</span>
  <div mat-dialog-content class="mt-4">
    <form [formGroup]="form">
      <ng-container formArrayName="newOrders">
        <ng-container *ngFor="let orderForm of newOrders.controls; let i = index">
          <div class="flex items-center" [formGroupName]="i">
            <div class="cursor-pointer" (click)="remove(i)">
              <mat-icon>delete</mat-icon>
            </div>
            <mat-form-field class="mx-3">
              <mat-label>Menu</mat-label>
              <input matInput type="text" placeholder="Seleziona menu" aria-label="Menu" formControlName="menu"
                [matAutocomplete]="auto">
              <mat-autocomplete requireSelection autoActiveFirstOption #auto="matAutocomplete" [displayWith]="displayFn">
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                  {{option.name}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>

            <mat-form-field class="w-20 mr-3">
              <mat-label>Quantit√†</mat-label>
              <input matInput type="number" formControlName="nItems">
            </mat-form-field>
          </div>
        </ng-container>
      </ng-container>
    </form>

    <div class="flex items-center justify-center">
      <button mat-mini-fab color="primary" (click)="addOrder()">
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </div>
  <div mat-dialog-actions class="flex items-center justify-center mx-6">
    <button mat-button mat-dialog-close>Annulla</button>
    <button (click)="onSubmit()" mat-stroked-button color="primary">Conferma</button>
  </div>
</div>